import{a as S,b as O,c as E,d as v,e as D,f as F,j as W,k as R,l as N,m as k}from"./chunk-PMJTKAZT.js";import{a as y}from"./chunk-HBTDH666.js";import"./chunk-6APYAV5B.js";import{$ as h,A as r,Aa as w,D as _,E as M,Ia as P,Ja as x,L as c,M as u,Q as f,R as n,S as o,ba as b,ea as i,ga as C,ia as s,ja as l,ka as d}from"./chunk-JGLOSZAI.js";function T(m,p){if(m&1&&(n(0,"div",30),i(1),o()),m&2){let g=b();r(),C(" \u26A0\uFE0F ",g.error," ")}}function L(m,p){m&1&&(n(0,"span"),i(1,"Registrarse"),o())}function I(m,p){m&1&&(n(0,"span"),i(1,"Creando cuenta..."),o())}var z=class m{constructor(p,g){this.authService=p;this.router=g}nombreUsuario="";email="";password="";confirmPassword="";nombres="";apellidos="";cedula="";fechaNacimiento="";telefono="";direccion="";cargando=!1;error="";mostrarPassword=!1;mostrarConfirmPassword=!1;onSubmit(){if(!this.nombreUsuario||!this.email||!this.password||!this.nombres||!this.apellidos||!this.cedula){this.error="Por favor completa todos los campos obligatorios";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)){this.error="Por favor ingresa un correo electr\xF3nico v\xE1lido";return}if(this.password.length<6){this.error="La contrase\xF1a debe tener al menos 6 caracteres";return}if(this.password!==this.confirmPassword){this.error="Las contrase\xF1as no coinciden";return}if(!/^\d{10}$/.test(this.cedula)){this.error="La c\xE9dula debe tener 10 d\xEDgitos";return}if(this.telefono&&!/^\d{10}$/.test(this.telefono)){this.error="El tel\xE9fono debe tener 10 d\xEDgitos";return}if(this.fechaNacimiento){let e=new Date(this.fechaNacimiento);if(new Date().getFullYear()-e.getFullYear()<18){this.error="Debes ser mayor de 18 a\xF1os para registrarte";return}}this.cargando=!0,this.error="";let g={nombreUsuario:this.nombreUsuario,email:this.email,password:this.password,nombres:this.nombres,apellidos:this.apellidos,cedula:this.cedula,fechaNacimiento:this.fechaNacimiento,telefono:this.telefono,direccion:this.direccion};this.authService.register(g).subscribe({next:e=>{this.router.navigate(["/login"])},error:e=>{console.error("\u274C Error en registro:",e),this.cargando=!1,this.error=e.error?.mensaje||"Error al registrar usuario. Por favor intenta de nuevo."}})}togglePassword(){this.mostrarPassword=!this.mostrarPassword}toggleConfirmPassword(){this.mostrarConfirmPassword=!this.mostrarConfirmPassword}static \u0275fac=function(g){return new(g||m)(_(y),_(P))};static \u0275cmp=M({type:m,selectors:[["app-register"]],decls:76,vars:18,consts:[[1,"register-container"],[1,"register-card"],[1,"logo-section"],[1,"subtitle"],[1,"register-form",3,"ngSubmit"],[1,"form-section"],[1,"form-group"],["for","nombreUsuario"],["type","text","id","nombreUsuario","name","nombreUsuario","placeholder","usuario123","required","","autocomplete","username",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","placeholder","correo@ejemplo.com","required","","autocomplete","email",3,"ngModelChange","ngModel"],[1,"form-row"],["for","password"],[1,"password-input"],["id","password","name","password","placeholder","M\xEDnimo 6 caracteres","required","","autocomplete","new-password",3,"ngModelChange","type","ngModel"],["type","button","tabindex","-1",1,"toggle-password",3,"click"],["for","confirmPassword"],["id","confirmPassword","name","confirmPassword","placeholder","Repite la contrase\xF1a","required","","autocomplete","new-password",3,"ngModelChange","type","ngModel"],["for","nombres"],["type","text","id","nombres","name","nombres","placeholder","Juan Carlos","required","","autocomplete","given-name",3,"ngModelChange","ngModel"],["for","apellidos"],["type","text","id","apellidos","name","apellidos","placeholder","P\xE9rez Gonz\xE1lez","required","","autocomplete","family-name",3,"ngModelChange","ngModel"],["for","cedula"],["type","text","id","cedula","name","cedula","placeholder","1234567890","maxlength","10","pattern","[0-9]{10}","required","",3,"ngModelChange","ngModel"],["for","fechaNacimiento"],["type","date","id","fechaNacimiento","name","fechaNacimiento","autocomplete","bday",3,"ngModelChange","ngModel"],["for","telefono"],["type","tel","id","telefono","name","telefono","placeholder","0987654321","maxlength","10","pattern","[0-9]{10}","autocomplete","tel",3,"ngModelChange","ngModel"],["for","direccion"],["id","direccion","name","direccion","placeholder","Calle, N\xFAmero, Ciudad...","rows","3","autocomplete","street-address",3,"ngModelChange","ngModel"],[1,"error-message"],["type","submit",1,"btn-primary",3,"disabled"],[1,"login-link"],["routerLink","/login"]],template:function(g,e){g&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),i(4,"\u{1F3E8} Para\xEDso Verde"),o(),n(5,"p",3),i(6,"Sistema de Reservas"),o()(),n(7,"form",4),h("ngSubmit",function(){return e.onSubmit()}),n(8,"h2"),i(9,"Crear Cuenta"),o(),n(10,"div",5)(11,"h3"),i(12,"Informaci\xF3n de Cuenta"),o(),n(13,"div",6)(14,"label",7),i(15,"Nombre de Usuario *"),o(),n(16,"input",8),d("ngModelChange",function(t){return l(e.nombreUsuario,t)||(e.nombreUsuario=t),t}),o()(),n(17,"div",6)(18,"label",9),i(19,"Correo Electr\xF3nico *"),o(),n(20,"input",10),d("ngModelChange",function(t){return l(e.email,t)||(e.email=t),t}),o()(),n(21,"div",11)(22,"div",6)(23,"label",12),i(24,"Contrase\xF1a *"),o(),n(25,"div",13)(26,"input",14),d("ngModelChange",function(t){return l(e.password,t)||(e.password=t),t}),o(),n(27,"button",15),h("click",function(){return e.togglePassword()}),i(28),o()()(),n(29,"div",6)(30,"label",16),i(31,"Confirmar Contrase\xF1a *"),o(),n(32,"div",13)(33,"input",17),d("ngModelChange",function(t){return l(e.confirmPassword,t)||(e.confirmPassword=t),t}),o(),n(34,"button",15),h("click",function(){return e.toggleConfirmPassword()}),i(35),o()()()()(),n(36,"div",5)(37,"h3"),i(38,"Informaci\xF3n Personal"),o(),n(39,"div",11)(40,"div",6)(41,"label",18),i(42,"Nombres *"),o(),n(43,"input",19),d("ngModelChange",function(t){return l(e.nombres,t)||(e.nombres=t),t}),o()(),n(44,"div",6)(45,"label",20),i(46,"Apellidos *"),o(),n(47,"input",21),d("ngModelChange",function(t){return l(e.apellidos,t)||(e.apellidos=t),t}),o()()(),n(48,"div",11)(49,"div",6)(50,"label",22),i(51,"C\xE9dula *"),o(),n(52,"input",23),d("ngModelChange",function(t){return l(e.cedula,t)||(e.cedula=t),t}),o()(),n(53,"div",6)(54,"label",24),i(55,"Fecha de Nacimiento"),o(),n(56,"input",25),d("ngModelChange",function(t){return l(e.fechaNacimiento,t)||(e.fechaNacimiento=t),t}),o()()()(),n(57,"div",5)(58,"h3"),i(59,"Informaci\xF3n de Contacto"),o(),n(60,"div",6)(61,"label",26),i(62,"Tel\xE9fono"),o(),n(63,"input",27),d("ngModelChange",function(t){return l(e.telefono,t)||(e.telefono=t),t}),o()(),n(64,"div",6)(65,"label",28),i(66,"Direcci\xF3n"),o(),n(67,"textarea",29),d("ngModelChange",function(t){return l(e.direccion,t)||(e.direccion=t),t}),o()()(),c(68,T,2,1,"div",30),n(69,"button",31),c(70,L,2,0,"span"),c(71,I,2,0,"span"),o(),n(72,"div",32),i(73," \xBFYa tienes cuenta? "),n(74,"a",33),i(75,"Inicia sesi\xF3n aqu\xED"),o()()()()()),g&2&&(r(16),s("ngModel",e.nombreUsuario),r(4),s("ngModel",e.email),r(6),f("type",e.mostrarPassword?"text":"password"),s("ngModel",e.password),r(2),C(" ",e.mostrarPassword?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),r(5),f("type",e.mostrarConfirmPassword?"text":"password"),s("ngModel",e.confirmPassword),r(2),C(" ",e.mostrarConfirmPassword?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),r(8),s("ngModel",e.nombres),r(4),s("ngModel",e.apellidos),r(5),s("ngModel",e.cedula),r(4),s("ngModel",e.fechaNacimiento),r(7),s("ngModel",e.telefono),r(4),s("ngModel",e.direccion),r(),u(e.error?68:-1),r(),f("disabled",e.cargando),r(),u(e.cargando?-1:70),r(),u(e.cargando?71:-1))},dependencies:[w,k,F,S,O,E,W,R,N,D,v,x],styles:[".register-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1b5e20,#2e7d32,#4caf50);padding:40px 20px}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;padding:40px;width:100%;max-width:700px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.logo-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.logo-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#333;margin:0 0 8px}.logo-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:16px;color:#666;margin:0}.register-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333;margin:0 0 32px;text-align:center}.form-section[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid #e0e0e0}.form-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none;margin-bottom:24px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#2e7d32;margin:0 0 20px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#333;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 16px;font-size:16px;border:2px solid #e0e0e0;border-radius:8px;transition:all .3s ease;box-sizing:border-box;font-family:inherit}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2e7d32;box-shadow:0 0 0 3px #2e7d321a}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.password-input[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:48px}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:12px;background:none;border:none;font-size:20px;cursor:pointer;padding:4px 8px;transition:opacity .2s}.toggle-password[_ngcontent-%COMP%]:hover{opacity:.7}.error-message[_ngcontent-%COMP%]{background-color:#fee;border-left:4px solid #f44336;color:#c62828;padding:12px 16px;border-radius:4px;margin-bottom:20px;font-size:14px;animation:_ngcontent-%COMP%_shake .3s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:14px 24px;font-size:16px;font-weight:600;color:#fff;background:linear-gradient(135deg,#1b5e20,#2e7d32);border:none;border-radius:8px;cursor:pointer;transition:all .3s ease;margin-bottom:16px}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #2e7d3266}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.login-link[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#666;margin-top:8px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2e7d32;text-decoration:none;font-weight:600;transition:color .2s}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1b5e20;text-decoration:underline}@media (max-width: 768px){.register-card[_ngcontent-%COMP%]{padding:32px 24px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:0}.logo-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.register-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 480px){.register-container[_ngcontent-%COMP%]{padding:20px 15px}.register-card[_ngcontent-%COMP%]{padding:24px 20px}}"]})};export{z as RegisterComponent};
