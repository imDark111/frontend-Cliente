<div class="departamentos-container">
  <header class="page-header">
    <h1>Nuestras Habitaciones</h1>
    <p>Encuentra el espacio perfecto para tu estancia</p>
  </header>

  <div class="container">
    @if (cargando) {
      <div class="loading">
        <p>Cargando habitaciones...</p>
      </div>
    }

    @if (!cargando) {
      <div class="departamentos-grid">
      <div class="depto-card" *ngFor="let depto of departamentos">
        <div class="depto-image">
          <img [src]="getImagenPrincipal(depto)" [alt]="'HabitaciÃ³n ' + depto.numero" />
          <span class="badge">{{ depto.tipo | titlecase }}</span>
        </div>
        
        <div class="depto-content">
          <h3>HabitaciÃ³n {{ depto.numero }}</h3>
          <p class="description">{{ depto.descripcion || 'HabitaciÃ³n cÃ³moda y equipada' }}</p>
          
          <div class="depto-info">
            <div class="info-item">
              <span class="icon">ğŸ‘¥</span>
              <span>{{ depto.capacidadPersonas }} personas</span>
            </div>
            <div class="info-item">
              <span class="icon">ğŸ›ï¸</span>
              <span>{{ depto.numeroCamas }} cama(s) {{ depto.tipoCamas }}</span>
            </div>
            <div class="info-item">
              <span class="icon">ğŸ›ï¸</span>
              <span>Piso {{ depto.piso }}</span>
            </div>
          </div>

          <div class="amenities">
            @if (depto.caracteristicas.wifi) {
              <span class="amenity">ğŸ“¶ WiFi</span>
            }
            @if (depto.caracteristicas.televisor) {
              <span class="amenity">ğŸ“º TV</span>
            }
            @if (depto.caracteristicas.aireAcondicionado) {
              <span class="amenity">â„ï¸ A/C</span>
            }
            @if (depto.caracteristicas.balcon) {
              <span class="amenity">ğŸŒ¿ BalcÃ³n</span>
            }
            @if (depto.caracteristicas.banoPrivado) {
              <span class="amenity">ğŸš¿ BaÃ±o</span>
            }
            @if (depto.caracteristicas.minibar) {
              <span class="amenity">ğŸ§Š Minibar</span>
            }
          </div>

          <div class="depto-footer">
            <div class="price">
              <span class="price-label">Desde</span>
              <span class="price-amount">{{ formatearMoneda(depto.precioNoche) }}</span>
              <span class="price-period">/noche</span>
            </div>
            <a [routerLink]="['/departamentos', depto.id]" class="btn btn-primary">Ver Detalles</a>
          </div>
        </div>
      </div>
      </div>
    }

    @if (!cargando && departamentos.length === 0) {
      <div class="empty-state">
        <p>No hay habitaciones disponibles en este momento.</p>
      </div>
    }
  </div>
</div>
