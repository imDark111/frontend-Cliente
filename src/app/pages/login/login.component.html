<div class="login-container">
  <div class="login-card">
    <div class="logo-section">
      <h1>ğŸ¨ ParaÃ­so Verde</h1>
      <p class="subtitle">Sistema de Reservas</p>
    </div>

    <!-- Formulario de Login -->
    <form *ngIf="!mostrar2FA" (ngSubmit)="onSubmit()" class="login-form">
      <h2>Iniciar SesiÃ³n</h2>

      <div class="form-group">
        <label for="email">Correo ElectrÃ³nico</label>
        <input 
          type="email" 
          id="email" 
          [(ngModel)]="email" 
          name="email"
          placeholder="correo@ejemplo.com"
          required
          autocomplete="email"
        />
      </div>

      <div class="form-group">
        <label for="password">ContraseÃ±a</label>
        <div class="password-input">
          <input 
            [type]="mostrarPassword ? 'text' : 'password'" 
            id="password" 
            [(ngModel)]="password" 
            name="password"
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            required
            autocomplete="current-password"
          />
          <button 
            type="button" 
            class="toggle-password" 
            (click)="togglePassword()"
            tabindex="-1"
          >
            {{ mostrarPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
          </button>
        </div>
      </div>

      <div class="error-message" *ngIf="error">
        âš ï¸ {{ error }}
      </div>

      <button type="submit" class="btn-primary" [disabled]="cargando">
        <span *ngIf="!cargando">Ingresar</span>
        <span *ngIf="cargando">Iniciando sesiÃ³n...</span>
      </button>

      <div class="register-link">
        Â¿No tienes cuenta? <a routerLink="/register">RegÃ­strate aquÃ­</a>
      </div>
    </form>

    <!-- Formulario de 2FA -->
    <form *ngIf="mostrar2FA" (ngSubmit)="verify2FA()" class="twofa-form">
      <h2>ğŸ” VerificaciÃ³n en Dos Pasos</h2>
      <p class="twofa-description">
        Ingresa el cÃ³digo de 6 dÃ­gitos generado por tu aplicaciÃ³n de autenticaciÃ³n
      </p>

      <div class="form-group">
        <label for="codigo2FA">CÃ³digo de VerificaciÃ³n</label>
        <input 
          type="text" 
          id="codigo2FA" 
          [(ngModel)]="codigo2FA" 
          name="codigo2FA"
          placeholder="000000"
          maxlength="6"
          pattern="[0-9]{6}"
          class="code-input"
          required
          autofocus
        />
      </div>

      <div class="error-message" *ngIf="error">
        âš ï¸ {{ error }}
      </div>

      <div class="button-group">
        <button type="button" class="btn-secondary" (click)="volver2FA()" [disabled]="cargando">
          Volver
        </button>
        <button type="submit" class="btn-primary" [disabled]="cargando || codigo2FA.length !== 6">
          <span *ngIf="!cargando">Verificar</span>
          <span *ngIf="cargando">Verificando...</span>
        </button>
      </div>
    </form>
  </div>
</div>
