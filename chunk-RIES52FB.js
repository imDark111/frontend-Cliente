import{a as T}from"./chunk-LSTFC5WP.js";import{a as j}from"./chunk-P2DZW7M6.js";import{$ as l,A as r,D as f,E as y,Ea as F,Ga as V,L as m,M as p,N as w,O as E,P as h,U as e,V as n,W as P,X as u,Y as b,_ as x,a as k,b as S,ba as M,ca as i,da as _,ea as C,fa as I,ma as O,na as D,q as s,r as g,xa as z,ya as A,z as v}from"./chunk-CCABOK3D.js";var R=(a,o)=>o.nombre;function L(a,o){if(a&1){let t=u();e(0,"button",36),x("click",function(){s(t);let d=l(3);return g(d.imagenAnterior())}),i(1," \u276E "),n()}}function $(a,o){if(a&1){let t=u();e(0,"button",37),x("click",function(){s(t);let d=l(3);return g(d.imagenSiguiente())}),i(1," \u276F "),n()}}function U(a,o){if(a&1&&(e(0,"div",4),m(1,L,2,0,"button",32),P(2,"img",33),m(3,$,2,0,"button",34),e(4,"div",35),i(5),O(6,"titlecase"),n()()),a&2){let t=l(2);r(),p(t.getImagenesValidas().length>1?1:-1),r(),b("src",t.getImagenesValidas()[t.imagenActual],v)("alt","Habitaci\xF3n "+t.departamento.numero),r(),p(t.getImagenesValidas().length>1?3:-1),r(),M("disponible",t.departamento.estado==="disponible"),r(),C(" ",D(6,7,t.departamento.estado)," ")}}function H(a,o){if(a&1){let t=u();e(0,"img",39),x("click",function(){let d=s(t).$index,B=l(3);return g(B.cambiarImagen(d))}),n()}if(a&2){let t=o.$implicit,c=o.$index,d=l(3);M("active",c===d.imagenActual),b("src",t,v)("alt","Miniatura "+c)}}function W(a,o){if(a&1&&(e(0,"div",5),E(1,H,1,4,"img",38,w),n()),a&2){let t=l(2);r(),h(t.getImagenesValidas())}}function q(a,o){if(a&1&&(e(0,"p",11),i(1),n()),a&2){let t=l(2);r(),C(" ",t.departamento.descripcion," ")}}function Y(a,o){if(a&1&&(e(0,"div",19)(1,"span",40),i(2),n(),e(3,"span",41),i(4),n()()),a&2){let t=o.$implicit;r(2),_(t.icono),r(2),_(t.nombre)}}function K(a,o){if(a&1&&(e(0,"div",20)(1,"h2"),i(2,"\u{1F4DD} Informaci\xF3n Adicional"),n(),e(3,"p"),i(4),n()()),a&2){let t=l(2);r(4),_(t.departamento.observaciones)}}function J(a,o){a&1&&(e(0,"span"),i(1,"Reservar Ahora"),n())}function G(a,o){a&1&&(e(0,"span"),i(1,"\u274C No Disponible"),n())}function Q(a,o){if(a&1){let t=u();e(0,"div",0)(1,"section",3),m(2,U,7,9,"div",4),m(3,W,3,0,"div",5),n(),e(4,"div",6)(5,"div",7)(6,"div",8)(7,"div")(8,"h1"),i(9),n(),e(10,"p",9),i(11),O(12,"titlecase"),n()(),e(13,"button",10),x("click",function(){s(t);let d=l();return g(d.volver())}),i(14,"\u2190 Volver"),n()(),m(15,q,2,1,"p",11),e(16,"div",12)(17,"div",13)(18,"span",14),i(19,"\u{1F465}"),n(),e(20,"div")(21,"p",15),i(22,"Capacidad"),n(),e(23,"p",16),i(24),n()()(),e(25,"div",13)(26,"span",14),i(27,"\u{1F6CF}\uFE0F"),n(),e(28,"div")(29,"p",15),i(30,"Camas"),n(),e(31,"p",16),i(32),n()()(),e(33,"div",13)(34,"span",14),i(35,"\u{1F3E2}"),n(),e(36,"div")(37,"p",15),i(38,"Ubicaci\xF3n"),n(),e(39,"p",16),i(40),n()()()(),e(41,"div",17)(42,"h2"),i(43,"\u{1F31F} Caracter\xEDsticas y Comodidades"),n(),e(44,"div",18),E(45,Y,5,2,"div",19,R),n()(),m(47,K,5,1,"div",20),e(48,"div",21)(49,"h2"),i(50,"\u{1F4CB} Pol\xEDticas del Hotel"),n(),e(51,"ul")(52,"li"),i(53,"\u2705 Check-in: 14:00 hrs"),n(),e(54,"li"),i(55,"\u2705 Check-out: 12:00 hrs"),n(),e(56,"li"),i(57,"\u2705 Cancelaci\xF3n gratuita hasta 24 horas antes"),n(),e(58,"li"),i(59,"\u2705 No se permiten mascotas"),n(),e(60,"li"),i(61,"\u2705 No fumar en las habitaciones"),n()()()(),e(62,"div",22)(63,"div",23)(64,"div",24)(65,"span",25),i(66),n(),e(67,"span",26),i(68,"/ noche"),n()(),e(69,"div",27)(70,"p"),i(71,"\u{1F4B0} Precio base por noche"),n(),e(72,"p"),i(73,"\u{1F3F7}\uFE0F Impuestos incluidos"),n()(),e(74,"button",28),x("click",function(){s(t);let d=l();return g(d.reservar())}),m(75,J,2,0,"span"),m(76,G,2,0,"span"),n(),e(77,"div",29)(78,"p"),i(79,"\u2713 Confirmaci\xF3n inmediata"),n(),e(80,"p"),i(81,"\u2713 Cancelaci\xF3n flexible"),n(),e(82,"p"),i(83,"\u2713 Mejor precio garantizado"),n()()(),e(84,"div",30)(85,"h3"),i(86,"\u{1F4AC} \xBFNecesitas ayuda?"),n(),e(87,"p"),i(88,"Nuestro equipo est\xE1 disponible 24/7"),n(),e(89,"button",31),i(90,"\u{1F4DE} Contactar"),n()()()()()}if(a&2){let t=l();r(2),p(t.getImagenesValidas().length>0?2:-1),r(),p(t.getImagenesValidas().length>1?3:-1),r(6),C("Habitaci\xF3n ",t.departamento.numero),r(2),_(D(12,14,t.departamento.tipo)),r(4),p(t.departamento.descripcion?15:-1),r(9),C("",t.departamento.capacidadPersonas," personas"),r(8),I("",t.departamento.numeroCamas," ",t.departamento.tipoCamas),r(8),C("Piso ",t.departamento.piso),r(5),h(t.getCaracteristicasActivas()),r(2),p(t.departamento.observaciones?47:-1),r(19),_(t.formatearMoneda(t.departamento.precioNoche)),r(8),b("disabled",t.departamento.estado!=="disponible"),r(),p(t.departamento.estado==="disponible"?75:-1),r(),p(t.departamento.estado!=="disponible"?76:-1)}}function X(a,o){a&1&&(e(0,"div",1),P(1,"div",42),e(2,"p"),i(3,"Cargando informaci\xF3n..."),n()())}function Z(a,o){if(a&1){let t=u();e(0,"div",2)(1,"div",43)(2,"span",44),i(3,"\u26A0\uFE0F"),n(),e(4,"h2"),i(5),n(),e(6,"button",10),x("click",function(){s(t);let d=l();return g(d.volver())}),i(7,"Volver a Habitaciones"),n()()()}if(a&2){let t=l();r(5),_(t.error)}}var N=class a{constructor(o,t,c,d){this.route=o;this.router=t;this.departamentoService=c;this.authService=d}departamento=null;cargando=!0;imagenActual=0;error="";ngOnInit(){let o=this.route.snapshot.paramMap.get("id");o?this.cargarDepartamento(o):this.router.navigate(["/departamentos"])}cargarDepartamento(o){this.departamentoService.obtenerDepartamentoPorId(o).subscribe({next:t=>{t.success&&t.data&&(this.departamento=S(k({},t.data),{id:t.data.id||t.data._id})),this.cargando=!1},error:t=>{console.error("Error al cargar departamento:",t),this.error="No se pudo cargar la informaci\xF3n del departamento",this.cargando=!1}})}formatearMoneda(o){return new Intl.NumberFormat("es-EC",{style:"currency",currency:"USD"}).format(o)}getImagenesValidas(){return this.departamento?.imagenes?this.departamento.imagenes.filter(o=>o.url&&(o.url.startsWith("http://")||o.url.startsWith("https://")||o.url.startsWith("/"))).map(o=>o.url):[]}cambiarImagen(o){let t=this.getImagenesValidas();o>=0&&o<t.length&&(this.imagenActual=o)}imagenAnterior(){let o=this.getImagenesValidas();this.imagenActual=this.imagenActual>0?this.imagenActual-1:o.length-1}imagenSiguiente(){let o=this.getImagenesValidas();this.imagenActual=this.imagenActual<o.length-1?this.imagenActual+1:0}getCaracteristicasActivas(){return this.departamento?[{key:"wifi",icono:"\u{1F4F6}",nombre:"WiFi"},{key:"televisor",icono:"\u{1F4FA}",nombre:"Televisor"},{key:"aireAcondicionado",icono:"\u2744\uFE0F",nombre:"Aire Acondicionado"},{key:"calefaccion",icono:"\u{1F525}",nombre:"Calefacci\xF3n"},{key:"minibar",icono:"\u{1F9CA}",nombre:"Minibar"},{key:"cajaFuerte",icono:"\u{1F512}",nombre:"Caja Fuerte"},{key:"balcon",icono:"\u{1F33F}",nombre:"Balc\xF3n"},{key:"vistaAlMar",icono:"\u{1F30A}",nombre:"Vista al Mar"},{key:"banoPrivado",icono:"\u{1F6BF}",nombre:"Ba\xF1o Privado"},{key:"jacuzzi",icono:"\u{1F6C1}",nombre:"Jacuzzi"},{key:"cocina",icono:"\u{1F373}",nombre:"Cocina"},{key:"escritorio",icono:"\u{1F4BC}",nombre:"Escritorio"},{key:"secadorPelo",icono:"\u{1F487}",nombre:"Secador de Pelo"},{key:"plancha",icono:"\u{1F454}",nombre:"Plancha"},{key:"telefono",icono:"\u260E\uFE0F",nombre:"Tel\xE9fono"}].filter(t=>this.departamento.caracteristicas[t.key]).map(t=>({icono:t.icono,nombre:t.nombre})):[]}reservar(){if(!this.authService.isAuthenticated()){this.router.navigate(["/login"],{queryParams:{returnUrl:this.router.url}});return}this.departamento&&this.router.navigate(["/reservas/nueva"],{queryParams:{departamentoId:this.departamento.id}})}volver(){this.router.navigate(["/departamentos"])}static \u0275fac=function(t){return new(t||a)(f(F),f(V),f(j),f(T))};static \u0275cmp=y({type:a,selectors:[["app-detalle-departamento"]],decls:3,vars:3,consts:[[1,"detalle-container"],[1,"loading-container"],[1,"error-container"],[1,"galeria-section"],[1,"galeria-principal"],[1,"galeria-miniaturas"],[1,"contenido-wrapper"],[1,"info-principal"],[1,"header-info"],[1,"tipo-badge"],[1,"btn-volver",3,"click"],[1,"descripcion"],[1,"detalles-rapidos"],[1,"detalle-item"],[1,"icono"],[1,"label"],[1,"valor"],[1,"caracteristicas-section"],[1,"caracteristicas-grid"],[1,"caracteristica-item"],[1,"observaciones-section"],[1,"politicas-section"],[1,"panel-reserva"],[1,"precio-card"],[1,"precio-principal"],[1,"precio-valor"],[1,"precio-periodo"],[1,"precio-info"],[1,"btn-reservar",3,"click","disabled"],[1,"beneficios"],[1,"contacto-card"],[1,"btn-contacto"],[1,"nav-btn","prev"],[1,"imagen-principal",3,"src","alt"],[1,"nav-btn","next"],[1,"badge-estado"],[1,"nav-btn","prev",3,"click"],[1,"nav-btn","next",3,"click"],[1,"miniatura",3,"src","alt","active"],[1,"miniatura",3,"click","src","alt"],[1,"car-icono"],[1,"car-nombre"],[1,"spinner"],[1,"error-content"],[1,"error-icon"]],template:function(t,c){t&1&&(m(0,Q,91,16,"div",0),m(1,X,4,0,"div",1),m(2,Z,8,1,"div",2)),t&2&&(p(!c.cargando&&c.departamento?0:-1),r(),p(c.cargando?1:-1),r(),p(c.error&&!c.cargando?2:-1))},dependencies:[A,z],styles:[".detalle-container[_ngcontent-%COMP%]{min-height:100vh;background:#f8f9fa}.galeria-section[_ngcontent-%COMP%]{background:#fff;padding-bottom:20px}.galeria-principal[_ngcontent-%COMP%]{position:relative;width:100%;height:500px;background:#000;overflow:hidden}.imagen-principal[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.nav-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#2e7d32cc;color:#fff;border:none;font-size:28px;padding:16px 20px;cursor:pointer;transition:all .3s;z-index:2}.nav-btn[_ngcontent-%COMP%]:hover{background:#1b5e20e6}.nav-btn.prev[_ngcontent-%COMP%]{left:20px}.nav-btn.next[_ngcontent-%COMP%]{right:20px}.badge-estado[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;padding:10px 20px;border-radius:25px;font-weight:600;text-transform:uppercase;font-size:14px;background:#9e9e9e;color:#fff;z-index:2}.badge-estado.disponible[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1b5e20,#2e7d32);box-shadow:0 4px 12px #2e7d3266}.galeria-miniaturas[_ngcontent-%COMP%]{display:flex;gap:10px;padding:20px;overflow-x:auto;background:#fff}.miniatura[_ngcontent-%COMP%]{width:100px;height:80px;object-fit:cover;border-radius:8px;cursor:pointer;opacity:.6;transition:all .3s;border:3px solid transparent}.miniatura[_ngcontent-%COMP%]:hover{opacity:.8}.miniatura.active[_ngcontent-%COMP%]{opacity:1;border-color:#2e7d32;box-shadow:0 4px 12px #2e7d324d}.contenido-wrapper[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:40px 20px;display:grid;grid-template-columns:1fr 400px;gap:40px}.info-principal[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:40px;box-shadow:0 4px 12px #00000014}.header-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px;flex-wrap:wrap;gap:16px}.header-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#1b5e20;margin:0 0 8px}.tipo-badge[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32;padding:6px 16px;border-radius:20px;font-weight:600;display:inline-block;margin:0}.btn-volver[_ngcontent-%COMP%]{background:#fff;color:#2e7d32;border:2px solid #2e7d32;padding:10px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s}.btn-volver[_ngcontent-%COMP%]:hover{background:#e8f5e9}.descripcion[_ngcontent-%COMP%]{font-size:16px;line-height:1.8;color:#555;margin-bottom:32px;padding-bottom:32px;border-bottom:1px solid #e0e0e0}.detalles-rapidos[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:24px;margin-bottom:40px;padding-bottom:32px;border-bottom:1px solid #e0e0e0}.detalle-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;background:#f8f9fa;border-radius:12px;transition:all .3s}.detalle-item[_ngcontent-%COMP%]:hover{background:#e8f5e9;transform:translateY(-2px)}.detalle-item[_ngcontent-%COMP%]   .icono[_ngcontent-%COMP%]{font-size:32px}.detalle-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#888;margin:0 0 4px;text-transform:uppercase;font-weight:600}.detalle-item[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]{font-size:16px;color:#333;font-weight:600;margin:0}.caracteristicas-section[_ngcontent-%COMP%], .observaciones-section[_ngcontent-%COMP%], .politicas-section[_ngcontent-%COMP%]{margin-bottom:40px}.caracteristicas-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .observaciones-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .politicas-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;color:#1b5e20;margin-bottom:20px}.caracteristicas-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.caracteristica-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#e8f5e9;border-radius:10px;border:1px solid #c8e6c9;transition:all .3s}.caracteristica-item[_ngcontent-%COMP%]:hover{background:#c8e6c9;transform:translate(4px)}.car-icono[_ngcontent-%COMP%]{font-size:24px}.car-nombre[_ngcontent-%COMP%]{font-size:15px;color:#2e7d32;font-weight:600}.observaciones-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;line-height:1.8;color:#555;background:#f8f9fa;padding:20px;border-radius:10px;border-left:4px solid #2e7d32}.politicas-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.politicas-section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:12px 0;font-size:15px;color:#555;border-bottom:1px solid #e0e0e0}.politicas-section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.panel-reserva[_ngcontent-%COMP%]{position:sticky;top:20px;display:flex;flex-direction:column;gap:20px}.precio-card[_ngcontent-%COMP%], .contacto-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;box-shadow:0 8px 24px #0000001f}.precio-principal[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:8px;margin-bottom:16px;padding-bottom:16px;border-bottom:2px solid #e8f5e9}.precio-valor[_ngcontent-%COMP%]{font-size:42px;font-weight:700;color:#1b5e20}.precio-periodo[_ngcontent-%COMP%]{font-size:16px;color:#888}.precio-info[_ngcontent-%COMP%]{margin-bottom:24px}.precio-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:14px;color:#666}.btn-reservar[_ngcontent-%COMP%]{width:100%;padding:18px;font-size:18px;font-weight:600;border:none;border-radius:12px;cursor:pointer;transition:all .3s;background:linear-gradient(135deg,#1b5e20,#2e7d32);color:#fff;box-shadow:0 6px 20px #2e7d324d;margin-bottom:20px}.btn-reservar[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 24px #2e7d3266}.btn-reservar[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;box-shadow:none}.beneficios[_ngcontent-%COMP%]{padding-top:20px;border-top:1px solid #e0e0e0}.beneficios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:14px;color:#2e7d32;font-weight:500}.contacto-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#1b5e20;margin:0 0 12px}.contacto-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-bottom:16px}.btn-contacto[_ngcontent-%COMP%]{width:100%;padding:14px;background:#fff;color:#2e7d32;border:2px solid #2e7d32;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s}.btn-contacto[_ngcontent-%COMP%]:hover{background:#e8f5e9}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid #e8f5e9;border-top-color:#2e7d32;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:18px;color:#666}.error-content[_ngcontent-%COMP%]{text-align:center}.error-icon[_ngcontent-%COMP%]{font-size:64px;display:block;margin-bottom:20px}.error-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#d32f2f;margin-bottom:24px}@media (max-width: 1024px){.contenido-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr}.panel-reserva[_ngcontent-%COMP%]{position:static}}@media (max-width: 768px){.galeria-principal[_ngcontent-%COMP%]{height:300px}.info-principal[_ngcontent-%COMP%]{padding:24px}.header-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.detalles-rapidos[_ngcontent-%COMP%], .caracteristicas-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.nav-btn[_ngcontent-%COMP%]{padding:12px 16px;font-size:20px}.precio-valor[_ngcontent-%COMP%]{font-size:32px}}"]})};export{N as DetalleDepartamentoComponent};
