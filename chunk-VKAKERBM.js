import{a as Q}from"./chunk-ALBKEAV4.js";import{a as H,b as q,e as J,k as X,m as K}from"./chunk-PMJTKAZT.js";import{a as G}from"./chunk-6APYAV5B.js";import{$ as P,A as l,Aa as N,D as _,Da as W,E as A,Ga as B,I as b,Ia as U,Q as p,R as n,S as r,T as g,Z as F,ba as d,c as f,da as C,ea as i,fa as x,ga as R,ia as S,ja as E,ka as M,l as z,o as L,q as m,r as u,s as h,t as O,ya as D}from"./chunk-JGLOSZAI.js";var $="clover",ie=function(e){return e===3?"v3":e},ee="https://js.stripe.com",oe="".concat(ee,"/").concat($,"/stripe.js"),se=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ce=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Y="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",le=function(e){return se.test(e)||ce.test(e)},de=function(){for(var e=document.querySelectorAll('script[src^="'.concat(ee,'"]')),t=0;t<e.length;t++){var s=e[t];if(le(s.src))return s}return null},Z=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(oe).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},pe=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.5.3",startTime:t})},j=null,w=null,I=null,me=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},ue=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},ge=function(e){return j!==null?j:(j=new Promise(function(t,s){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(Y),window.Stripe){t(window.Stripe);return}try{var a=de();if(a&&e)console.warn(Y);else if(!a)a=Z(e);else if(a&&I!==null&&w!==null){var c;a.removeEventListener("load",I),a.removeEventListener("error",w),(c=a.parentNode)===null||c===void 0||c.removeChild(a),a=Z(e)}I=ue(t,s),w=me(s),a.addEventListener("load",I),a.addEventListener("error",w)}catch(v){s(v);return}}),j.catch(function(t){return j=null,Promise.reject(t)}))},fe=function(e,t,s){if(e===null)return null;var a=t[0],c=a.match(/^pk_test/),v=ie(e.version),k=$;c&&v!==k&&console.warn("Stripe.js@".concat(v," was loaded on the page, but @stripe/stripe-js@").concat("8.5.3"," expected Stripe.js@").concat(k,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var V=e.apply(void 0,t);return pe(V,s),V},y,te=!1,ne=function(){return y||(y=ge(null).catch(function(e){return y=null,Promise.reject(e)}),y)};Promise.resolve().then(function(){return ne()}).catch(function(o){te||console.warn(o)});var re=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];te=!0;var a=Date.now();return ne().then(function(c){return fe(c,t,a)})};var T=class o{constructor(e){this.http=e}apiUrl=`${G.apiUrl}/pagos`;crearIntencionPago(e){return this.http.post(`${this.apiUrl}/crear-intencion`,{facturaId:e})}confirmarPago(e,t){return this.http.post(`${this.apiUrl}/confirmar`,{paymentIntentId:e,facturaId:t})}obtenerTarjetasPrueba(){return this.http.get(`${this.apiUrl}/tarjetas-prueba`)}static \u0275fac=function(t){return new(t||o)(L(W))};static \u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"})};function he(o,e){o&1&&(n(0,"div",7),g(1,"div",8),n(2,"p"),i(3,"Cargando informaci\xF3n..."),r()())}function _e(o,e){o&1&&(n(0,"div",19),h(),n(1,"svg",20),g(2,"path",21)(3,"polyline",22),r(),O(),n(4,"h3"),i(5,"\xA1Pago Exitoso!"),r(),n(6,"p"),i(7,"Tu pago ha sido procesado correctamente. Ser\xE1s redirigido a tus facturas..."),r()())}function be(o,e){o&1&&(n(0,"div",23)(1,"div",24),i(2,"\u26A0\uFE0F"),r(),n(3,"div",25)(4,"strong"),i(5,"PROYECTO UNIVERSITARIO - MODO PRUEBA"),r(),n(6,"p"),i(7,"Este es un sistema de pagos ficticio. Usa las tarjetas de prueba mostradas abajo."),r()()())}function Pe(o,e){if(o&1){let t=F();n(0,"div",43)(1,"label"),i(2,"Tarjeta de Cr\xE9dito/D\xE9bito (Simulaci\xF3n)"),r(),n(3,"div",44)(4,"div",45)(5,"label"),i(6,"Nombre del titular"),r(),n(7,"input",46),M("ngModelChange",function(a){m(t);let c=d(3);return E(c.nombreTitular,a)||(c.nombreTitular=a),u(a)}),r()(),n(8,"div",45)(9,"label"),i(10,"N\xFAmero de tarjeta"),r(),n(11,"input",47),M("ngModelChange",function(a){m(t);let c=d(3);return E(c.numeroTarjeta,a)||(c.numeroTarjeta=a),u(a)}),P("input",function(a){m(t);let c=d(3);return u(c.formatearNumeroTarjeta(a))}),r()(),n(12,"div",48)(13,"div",45)(14,"label"),i(15,"Fecha de expiraci\xF3n"),r(),n(16,"input",49),M("ngModelChange",function(a){m(t);let c=d(3);return E(c.fechaExpiracion,a)||(c.fechaExpiracion=a),u(a)}),P("input",function(a){m(t);let c=d(3);return u(c.formatearFechaExpiracion(a))}),r()(),n(17,"div",45)(18,"label"),i(19,"CVV"),r(),n(20,"input",50),M("ngModelChange",function(a){m(t);let c=d(3);return E(c.cvv,a)||(c.cvv=a),u(a)}),r()()(),n(21,"p",51),i(22,"\u{1F4B3} Usa las tarjetas de prueba de abajo para simular diferentes resultados"),r()()()}if(o&2){let t=d(3);l(7),C("input-error",t.error),S("ngModel",t.nombreTitular),l(4),C("input-error",t.error),S("ngModel",t.numeroTarjeta),l(5),C("input-error",t.error),S("ngModel",t.fechaExpiracion),l(4),C("input-error",t.error),S("ngModel",t.cvv)}}function Ce(o,e){o&1&&(n(0,"div",43)(1,"label"),i(2,"Tarjeta de Cr\xE9dito/D\xE9bito"),r(),g(3,"div",52),r())}function Se(o,e){if(o&1&&(n(0,"div",53),h(),n(1,"svg",54),g(2,"circle",55)(3,"line",56)(4,"line",57),r(),i(5),r()),o&2){let t=d(3);l(5),R(" ",t.error," ")}}function Ee(o,e){if(o&1&&(n(0,"span"),i(1),r()),o&2){let t=d(3);l(),R(" \u{1F4B3} Pagar ",t.formatearMoneda(t.calcularMontoPendiente())," ")}}function Me(o,e){o&1&&(n(0,"span"),g(1,"div",58),i(2," Procesando pago... "),r())}function je(o,e){if(o&1){let t=F();n(0,"div",26)(1,"h2"),i(2,"Informaci\xF3n de Pago"),r(),b(3,Pe,23,12,"div",27)(4,Ce,4,0,"div",27)(5,Se,6,1,"div",28),n(6,"button",29),P("click",function(){m(t);let a=d(2);return u(a.procesarPago())}),b(7,Ee,2,1,"span",30)(8,Me,3,0,"span",30),r(),n(9,"div",31)(10,"div",32)(11,"h3"),i(12,"\u{1F4CB} Tarjetas de Prueba"),r(),n(13,"p"),i(14,"Copia estos n\xFAmeros para probar diferentes escenarios"),r()(),n(15,"div",33)(16,"div",34)(17,"div",35),i(18,"\u2705 Visa - Pago Exitoso"),r(),n(19,"div",36),i(20,"4242 4242 4242 4242"),r(),n(21,"div",37)(22,"span"),i(23,"Fecha: Cualquier futura"),r(),n(24,"span"),i(25,"CVV: Cualquier 3 d\xEDgitos"),r()()(),n(26,"div",34)(27,"div",35),i(28,"\u2705 Mastercard - Pago Exitoso"),r(),n(29,"div",36),i(30,"5555 5555 5555 4444"),r(),n(31,"div",37)(32,"span"),i(33,"Fecha: Cualquier futura"),r(),n(34,"span"),i(35,"CVV: Cualquier 3 d\xEDgitos"),r()()(),n(36,"div",38)(37,"div",35),i(38,"\u274C Tarjeta Rechazada"),r(),n(39,"div",36),i(40,"4000 0000 0000 0002"),r(),n(41,"div",37)(42,"span"),i(43,"Resultado: Rechazada por el banco"),r()()(),n(44,"div",38)(45,"div",35),i(46,"\u274C Fondos Insuficientes"),r(),n(47,"div",36),i(48,"4000 0000 0000 9995"),r(),n(49,"div",37)(50,"span"),i(51,"Resultado: Sin fondos suficientes"),r()()()()(),n(52,"div",39),h(),n(53,"svg",40),g(54,"rect",41)(55,"path",42),r(),O(),n(56,"span"),i(57,"Pago seguro procesado por Stripe"),r()()()}if(o&2){let t=d(2);l(3),p("ngIf",t.paymentIntentId.startsWith("pi_test_")),l(),p("ngIf",!t.paymentIntentId.startsWith("pi_test_")),l(),p("ngIf",t.error),l(),p("disabled",t.procesandoPago||!t.paymentIntentId),l(),p("ngIf",!t.procesandoPago),l(),p("ngIf",t.procesandoPago)}}function ye(o,e){if(o&1&&(n(0,"div",9)(1,"div",10)(2,"h2"),i(3,"Informaci\xF3n de la Factura"),r(),n(4,"div",11)(5,"div",12)(6,"span",13),i(7,"N\xB0 Factura:"),r(),n(8,"span",14),i(9),r()(),n(10,"div",12)(11,"span",13),i(12,"Cliente:"),r(),n(13,"span",14),i(14),r()(),n(15,"div",12)(16,"span",13),i(17,"Reserva:"),r(),n(18,"span",14),i(19),r()(),n(20,"div",12)(21,"span",13),i(22,"Total:"),r(),n(23,"span",14),i(24),r()(),n(25,"div",12)(26,"span",13),i(27,"Monto a Pagar:"),r(),n(28,"span",15),i(29),r()()()(),b(30,_e,8,0,"div",16)(31,be,8,0,"div",17)(32,je,58,6,"div",18),r()),o&2){let t=d();l(9),x(t.factura.numeroFactura),l(5),x(t.getClienteNombre()),l(5),x(t.getReservaCodigoReserva()),l(5),x(t.formatearMoneda(t.factura.total)),l(5),x(t.formatearMoneda(t.calcularMontoPendiente())),l(),p("ngIf",t.exito),l(),p("ngIf",!t.exito),l(),p("ngIf",!t.exito)}}var ae=class o{constructor(e,t,s,a){this.route=e;this.router=t;this.pagoService=s;this.facturaService=a}facturaId="";factura=null;cargando=!1;procesandoPago=!1;error="";exito=!1;stripe=null;elements=null;cardElement=null;clientSecret="";paymentIntentId="";mostrarTarjetasPrueba=!0;tarjetasPrueba=[];numeroTarjeta="";fechaExpiracion="";cvv="";nombreTitular="";ngOnInit(){return f(this,null,function*(){this.facturaId=this.route.snapshot.paramMap.get("id")||"",this.facturaId&&(yield this.cargarFactura(),yield this.inicializarStripe(),this.cargarTarjetasPrueba())})}cargarFactura(){return f(this,null,function*(){this.cargando=!0,this.facturaService.obtenerFacturaPorId(this.facturaId).subscribe({next:e=>{console.log("\u{1F4B3} Factura recibida en pagar-factura:",e),e.success&&e.data&&(this.factura=e.data,console.log("\u{1F4B3} Cliente en factura:",this.factura.cliente),console.log("\u{1F4B3} Reserva en factura:",this.factura.reserva),console.log("\u{1F4B3} Cliente en reserva:",this.factura.reserva?.cliente)),this.cargando=!1},error:e=>{console.error("Error al cargar factura:",e),this.error="Error al cargar la factura",this.cargando=!1}})})}inicializarStripe(){return f(this,null,function*(){try{this.pagoService.crearIntencionPago(this.facturaId).subscribe({next:e=>f(this,null,function*(){if(e.success&&e.data)if(this.clientSecret=e.data.clientSecret,this.paymentIntentId=e.data.paymentIntentId,this.paymentIntentId.startsWith("pi_test_"))console.log("\u{1F4B3} Modo simulaci\xF3n activo - Sin Stripe real"),this.mostrarFormularioSimulado();else try{this.stripe=yield re("pk_test_51QTm5WRwBgjrSJOKaEBbLH9hqjHE9TrGJB5vGLl0V4fYEKLnwD3UOWXJKZk4xYnDQ8vZQ7QX"),this.stripe?this.montarFormularioTarjeta():this.mostrarFormularioSimulado()}catch(t){console.warn("Stripe no disponible, usando simulaci\xF3n:",t),this.mostrarFormularioSimulado()}}),error:e=>{console.error("Error al crear intenci\xF3n de pago:",e),this.error=e.error?.message||"Error al crear intenci\xF3n de pago"}})}catch(e){console.error("Error al inicializar pago:",e),this.error=e.message}})}montarFormularioTarjeta(){this.stripe&&(this.elements=this.stripe.elements(),this.cardElement=this.elements.create("card",{style:{base:{fontSize:"16px",color:"#32325d",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',"::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}}),this.cardElement.mount("#card-element"),this.cardElement.on("change",e=>{e.error?this.error=e.error.message:this.error=""}))}mostrarFormularioSimulado(){console.log("\u{1F4DD} Mostrando formulario de pago simulado")}formatearNumeroTarjeta(e){let t=e.target.value.replace(/\s/g,""),s=t.match(/.{1,4}/g)?.join(" ")||t;this.numeroTarjeta=s,e.target.value=s}formatearFechaExpiracion(e){let t=e.target.value.replace(/\D/g,"");t.length>=2&&(t=t.substring(0,2)+"/"+t.substring(2,4)),this.fechaExpiracion=t,e.target.value=t}validarTarjeta(){let e=this.numeroTarjeta.replace(/\s/g,"");if(!e||e.length<13)return{valido:!1,mensaje:"N\xFAmero de tarjeta inv\xE1lido"};if(!this.fechaExpiracion||this.fechaExpiracion.length<5)return{valido:!1,mensaje:"Fecha de expiraci\xF3n inv\xE1lida"};if(!this.cvv||this.cvv.length<3)return{valido:!1,mensaje:"CVV inv\xE1lido"};let[t,s]=this.fechaExpiracion.split("/"),a=new Date,c=2e3+parseInt(s);return new Date(c,parseInt(t)-1)<a?{valido:!1,mensaje:"Tarjeta expirada"}:{valido:!0,mensaje:""}}simularResultadoTarjeta(){let e=this.numeroTarjeta.replace(/\s/g,"");return e==="4000000000000002"?{exito:!1,mensaje:"Tarjeta rechazada por el banco"}:e==="4000000000009995"?{exito:!1,mensaje:"Fondos insuficientes"}:e==="4000000000000069"?{exito:!1,mensaje:"Tarjeta expirada"}:e==="4000000000000127"?{exito:!1,mensaje:"CVV incorrecto"}:{exito:!0,mensaje:"Pago aprobado"}}procesarPago(){return f(this,null,function*(){this.procesandoPago=!0,this.error="";try{if(this.paymentIntentId.startsWith("pi_test_")||!this.stripe){console.log("\u{1F4B3} Procesando pago en modo simulaci\xF3n");let s=this.validarTarjeta();if(!s.valido){this.error=s.mensaje,this.procesandoPago=!1;return}yield new Promise(c=>setTimeout(c,2e3));let a=this.simularResultadoTarjeta();if(!a.exito){this.error=a.mensaje,this.procesandoPago=!1;return}console.log("\u2705 "+a.mensaje),this.pagoService.confirmarPago(this.paymentIntentId,this.facturaId).subscribe({next:c=>{c.success&&(this.exito=!0,setTimeout(()=>{this.router.navigate(["/facturas"])},3e3))},error:c=>{console.error("Error al confirmar pago:",c),this.error=c.error?.message||"Error al procesar el pago",this.procesandoPago=!1},complete:()=>{this.procesandoPago=!1}});return}if(!this.stripe||!this.cardElement||!this.clientSecret){this.error="Error: Sistema de pago no inicializado",this.procesandoPago=!1;return}let{error:e,paymentIntent:t}=yield this.stripe.confirmCardPayment(this.clientSecret,{payment_method:{card:this.cardElement}});if(e){this.error=e.message||"Error al procesar el pago",this.procesandoPago=!1;return}t&&t.status==="succeeded"&&this.pagoService.confirmarPago(this.paymentIntentId,this.facturaId).subscribe({next:s=>{s.success&&(this.exito=!0,setTimeout(()=>{this.router.navigate(["/facturas"])},3e3))},error:s=>{console.error("Error al confirmar pago:",s),this.error="El pago fue exitoso pero hubo un error al registrarlo. Contacta con soporte."},complete:()=>{this.procesandoPago=!1}})}catch(e){console.error("Error al procesar pago:",e),this.error=e.message||"Error al procesar el pago",this.procesandoPago=!1}})}cargarTarjetasPrueba(){this.pagoService.obtenerTarjetasPrueba().subscribe({next:e=>{e.success&&e.data&&(this.tarjetasPrueba=e.data.tarjetas)},error:e=>{console.error("Error al cargar tarjetas de prueba:",e)}})}getClienteNombre(){if(this.factura?.cliente&&typeof this.factura.cliente=="object"){let e=this.factura.cliente;return`${e.nombres||e.nombre||""} ${e.apellidos||e.apellido||""}`.trim()||"N/A"}if(this.factura?.reserva?.cliente&&typeof this.factura.reserva.cliente=="object"){let e=this.factura.reserva.cliente;return`${e.nombres||e.nombre||""} ${e.apellidos||e.apellido||""}`.trim()||"N/A"}return"N/A"}getReservaCodigoReserva(){return this.factura?.reserva?.codigoReserva||"N/A"}calcularMontoPendiente(){if(!this.factura)return 0;let e=this.factura.pagos?.reduce((t,s)=>t+s.monto,0)||0;return this.factura.total-e}formatearMoneda(e){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(e)}volver(){this.router.navigate(["/facturas"])}static \u0275fac=function(t){return new(t||o)(_(B),_(U),_(T),_(Q))};static \u0275cmp=A({type:o,selectors:[["app-pagar-factura"]],decls:10,vars:2,consts:[[1,"pagar-container"],[1,"header"],[1,"btn-volver",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M19 12H5M12 19l-7-7 7-7"],["class","loading",4,"ngIf"],["class","contenido",4,"ngIf"],[1,"loading"],[1,"spinner"],[1,"contenido"],[1,"info-factura"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"value","destacado"],["class","mensaje-exito",4,"ngIf"],["class","alerta-universitario",4,"ngIf"],["class","formulario-pago",4,"ngIf"],[1,"mensaje-exito"],["width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],[1,"alerta-universitario"],[1,"icono-alerta"],[1,"texto-alerta"],[1,"formulario-pago"],["class","card-element-container",4,"ngIf"],["class","mensaje-error",4,"ngIf"],[1,"btn-pagar",3,"click","disabled"],[4,"ngIf"],[1,"tarjetas-prueba"],[1,"tarjetas-header"],[1,"lista-tarjetas"],[1,"tarjeta-item","exito"],[1,"tarjeta-tipo"],[1,"tarjeta-numero"],[1,"tarjeta-info"],[1,"tarjeta-item","error"],[1,"seguridad-info"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],[1,"card-element-container"],[1,"formulario-tarjeta-simulado"],[1,"campo"],["type","text","placeholder","NOMBRE APELLIDO",1,"input-tarjeta","input-activo",3,"ngModelChange","ngModel"],["type","text","placeholder","4242 4242 4242 4242","maxlength","19",1,"input-tarjeta","input-activo",3,"ngModelChange","input","ngModel"],[1,"campos-row"],["type","text","placeholder","MM/AA","maxlength","5",1,"input-tarjeta","input-activo",3,"ngModelChange","input","ngModel"],["type","text","placeholder","123","maxlength","4",1,"input-tarjeta","input-activo",3,"ngModelChange","ngModel"],[1,"nota-simulacion"],["id","card-element",1,"card-element"],[1,"mensaje-error"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"spinner-small"]],template:function(t,s){t&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),P("click",function(){return s.volver()}),h(),n(3,"svg",3),g(4,"path",4),r(),i(5," Volver "),r(),O(),n(6,"h1"),i(7,"\u{1F4B3} Pagar Factura"),r()(),b(8,he,4,0,"div",5)(9,ye,33,8,"div",6),r()),t&2&&(l(8),p("ngIf",s.cargando),l(),p("ngIf",!s.cargando&&s.factura))},dependencies:[N,D,K,H,q,X,J],styles:[".pagar-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1b5e20;font-size:28px;margin:10px 0}.btn-volver[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:none;border:none;color:#2e7d32;cursor:pointer;font-size:16px;padding:8px 12px;border-radius:6px;transition:all .3s}.btn-volver[_ngcontent-%COMP%]:hover{background:#f1f8f4;transform:translate(-3px)}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #2e7d32;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.info-factura[_ngcontent-%COMP%]{background:#fff;border:2px solid #e0e0e0;border-radius:12px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a}.info-factura[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1b5e20;font-size:20px;margin-bottom:20px}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;color:#666;font-weight:500}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px;color:#333;font-weight:600}.info-item[_ngcontent-%COMP%]   .value.destacado[_ngcontent-%COMP%]{color:#2e7d32;font-size:20px}.alerta-universitario[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffe69c);border:2px solid #ffc107;border-radius:12px;padding:20px;margin-bottom:24px;display:flex;gap:16px;align-items:flex-start}.icono-alerta[_ngcontent-%COMP%]{font-size:32px;flex-shrink:0}.texto-alerta[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#856404;font-size:16px;margin-bottom:8px}.texto-alerta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#856404;margin:0;font-size:14px}.formulario-pago[_ngcontent-%COMP%]{background:#fff;border:2px solid #e0e0e0;border-radius:12px;padding:24px;box-shadow:0 2px 8px #0000001a}.formulario-pago[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1b5e20;font-size:20px;margin-bottom:20px}.card-element-container[_ngcontent-%COMP%]{margin-bottom:20px}.card-element-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#333;font-weight:600;margin-bottom:8px;font-size:14px}.card-element[_ngcontent-%COMP%]{border:2px solid #e0e0e0;border-radius:8px;padding:16px;background:#fff;transition:border-color .3s}.card-element[_ngcontent-%COMP%]:focus-within{border-color:#2e7d32;outline:none}.formulario-tarjeta-simulado[_ngcontent-%COMP%]{background:#f5f5f5;border:2px dashed #e0e0e0;border-radius:8px;padding:20px}.formulario-tarjeta-simulado[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]{margin-bottom:16px}.formulario-tarjeta-simulado[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]:last-child{margin-bottom:0}.formulario-tarjeta-simulado[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;font-weight:600;color:#666;margin-bottom:6px}.input-tarjeta[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:6px;font-size:16px;font-family:Courier New,monospace;background:#fff;color:#999;cursor:not-allowed}.input-tarjeta[_ngcontent-%COMP%]:disabled{opacity:.7}.input-activo[_ngcontent-%COMP%]{color:#333;cursor:text;border:2px solid #e0e0e0;transition:border-color .3s}.input-activo[_ngcontent-%COMP%]:focus{outline:none;border-color:#2e7d32;background:#fafafa}.input-error[_ngcontent-%COMP%]{border-color:#ef5350!important}.campos-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.nota-simulacion[_ngcontent-%COMP%]{margin:12px 0 0;padding:8px 12px;background:#fff3cd;border:1px solid #ffc107;border-radius:4px;color:#856404;font-size:13px;text-align:center}.mensaje-error[_ngcontent-%COMP%]{background:#ffebee;border:1px solid #ef5350;border-radius:8px;padding:12px;margin-bottom:20px;color:#c62828;display:flex;align-items:center;gap:10px;font-size:14px}.mensaje-exito[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e8f5e9,#c8e6c9);border:2px solid #4caf50;border-radius:12px;padding:40px;text-align:center;margin-bottom:24px}.mensaje-exito[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#4caf50;margin-bottom:16px}.mensaje-exito[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1b5e20;font-size:24px;margin:0 0 12px}.mensaje-exito[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2e7d32;margin:0}.btn-pagar[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#2e7d32,#1b5e20);color:#fff;border:none;border-radius:8px;padding:16px;font-size:18px;font-weight:600;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:20px}.btn-pagar[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #2e7d324d}.btn-pagar[_ngcontent-%COMP%]:disabled{background:#bdbdbd;cursor:not-allowed;transform:none}.spinner-small[_ngcontent-%COMP%]{border:3px solid #ffffff33;border-top:3px solid #ffffff;border-radius:50%;width:20px;height:20px;animation:_ngcontent-%COMP%_spin .8s linear infinite}.tarjetas-prueba[_ngcontent-%COMP%]{margin-top:24px;padding-top:24px;border-top:2px dashed #e0e0e0}.toggle-tarjetas[_ngcontent-%COMP%]{width:100%;background:#f5f5f5;border:2px solid #e0e0e0;border-radius:8px;padding:12px;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s;color:#333}.toggle-tarjetas[_ngcontent-%COMP%]:hover{background:#eee;border-color:#bdbdbd}.lista-tarjetas[_ngcontent-%COMP%]{margin-top:16px;display:grid;gap:12px}.tarjeta-item[_ngcontent-%COMP%]{background:#fafafa;border:1px solid #e0e0e0;border-radius:8px;padding:12px}.tarjeta-tipo[_ngcontent-%COMP%]{font-weight:600;color:#1b5e20;margin-bottom:4px;font-size:14px}.tarjeta-numero[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:16px;color:#333;margin-bottom:8px;letter-spacing:1px}.tarjeta-info[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:13px;color:#666;margin-bottom:6px}.tarjeta-resultado[_ngcontent-%COMP%]{font-size:12px;color:#2e7d32;font-weight:500;background:#e8f5e9;padding:4px 8px;border-radius:4px;display:inline-block}.tarjetas-header[_ngcontent-%COMP%]{margin-bottom:16px}.tarjetas-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1b5e20;font-size:16px;margin:0 0 4px}.tarjetas-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:13px;margin:0}.tarjeta-item.exito[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.tarjeta-item.error[_ngcontent-%COMP%]{border-left:4px solid #ef5350;background:#fff5f5}.seguridad-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;color:#666;font-size:13px;margin-top:16px}.seguridad-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#2e7d32}@media (max-width: 600px){.pagar-container[_ngcontent-%COMP%]{padding:15px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.alerta-universitario[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}@media print{.btn-volver[_ngcontent-%COMP%], .formulario-pago[_ngcontent-%COMP%], .alerta-universitario[_ngcontent-%COMP%]{display:none}}"]})};export{ae as PagarFacturaComponent};
